---
import Layout from "../layouts/Layout.astro";
import ContentTable from "../components/ContentTable.astro";

import { getCollection } from "astro:content";
const books = await getCollection("books");
const posts = await getCollection("posts");
const talks = await getCollection("talks");
---

<Layout
  title="Bookshelf"
  description="My pick of technical books, blog posts, and talks"
>
  <div class="flex flex-col gap-8">
    <section>
      <ContentTable
        title="Recommended Books"
        items={books.filter((book) => book.data.isRecommended)}
      />
    </section>

    <section>
      <ContentTable
        title="Not Generally Recommended"
        items={books.filter((book) => !book.data.isRecommended)}
      />
    </section>

    <section>
      <ContentTable title="Favorite Blog Posts" items={posts} />
    </section>

    <section>
      <ContentTable title="Favorite Tech Talks" items={talks} />
    </section>
  </div>
</Layout>
